\begin{abstract}
Modern control systems often make use of model predictive control. When linear models are used, a set of linear equations must be solved. Algorithms to solve a system of linear equations have been extensively studied and implemented in the past. However when non linear models are used, a set of non linear equations must be solved. These are typically solved with iterative algorithms. The current available algorithms, are costly in memory and CPU usage. This is where the PANOC algorithm comes in, as it uses a very limited amount of memory. And still maintains the super linear convergence.The library is specifically aimed at embedded devices as these have a low amounts of memory. 

The goal of this thesis is to implement a Matlab and Python library that generates a MPC controller in C that makes use of the PANOC algorithm. No Toolboxes or external libraries where used to generated the C code, with the only exception of Casadi. Casadi is used to generate the gradient used in the proximal gradient algorithm. 

In the first chapters the PANOC algorithm is discussed. Followed by a high level view of nmpc-codegen, the software package constructed with this thesis. After the theory some simulation results are included that compare PANOC to some of the state of the art interior point and SQP solvers. PANOC dominates the simulations when the system equations are small, but loses this advantage when complex system equations are used. It does however always use less memory then the alternatives.

The final chapter discuses a recent improvement of the PANOC algorithm. When adding soft constraints onto the problem, the weights of theses constraints must be tuned. Setting the weights too low will result in violations of those constraints, and setting it too high makes the condition of the problem worse. Recent research surrounding PANOC and the augmented Lagrangian sudgest that by defining and solving the MPC problem iteratively, the performance can be significantly improved. It is also much more intuitive to tune the augmented Lagrangian then to tune the weights of the constraints.
\end{abstract}